<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bagendit Ticketing | <%= title %>
  </title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous" />
  <!-- Fontawesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <script src="https://www.koolchart.com/demo/LicenseKey/KoolChartLicense.js"></script>
  <script src="https://www.koolchart.com/demo/KoolChart/JS/KoolChart.js"></script>
  <link rel="stylesheet" href="https://www.koolchart.com/demo/KoolChart/Assets/Css/KoolChart.css" />
</head>

<body>
  <!-- <nav class="navbar navbar-expand-lg sticky-top shadow bg-info">
    <div class="container">
      <a class="navbar-brand" href="#"><i class="fa fa-ticket me-2"
          style="transform: rotate(-30deg) scale(1.2);"></i>Bagendit Ticketing</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link <%= (title == 'Home') ? 'active' : '' %>" aria-current="page" href="/dashboard"><i
                class="fa fa-tachometer-alt me-2"></i>Dashboard</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle <%= (title == 'Home') ? 'active' : '' %> " href="#" id="navbarDropdown"
              role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa fa-table me-2"></i>Master Data
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="#"><i class="fa fa-ticket-alt me-2"></i>Tiket</a></li>
              <li><a class="dropdown-item" href="#"><i class="fa fa-ticket me-2"></i>Jenis Tiket</a></li>
              <li><a class="dropdown-item" href="#"><i class="fa fa-store-alt me-2"></i>Loket</a></li>
              <li><a class="dropdown-item" href="#"><i class="fa fa-umbrella-beach me-2"></i>Objek Wisata</a></li>
              <li><a class="dropdown-item" href="#"><i class="fa fa-users me-2"></i>Users</a></li>
            </ul>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle <%= (title == 'Home') ? 'active' : '' %> " href="#" id="navbarDropdown"
              role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa fa-hand-holding-usd me-2"></i>Transaksi
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="#"><i class="fa fa-money-bill-trend-up me-2"></i>Daftar Transaksi</a>
              </li>
              <li><a class="dropdown-item" href="#"><i class="fa fa-money-check-dollar me-2"></i>Daftar Pemesanan
                  Tiket</a></li>
            </ul>
          </li>
        </ul>
        <div class="collapse navbar-collapse d-flex justify-content-end" id="navbarNav">
          <ul class="navbar-nav">

            <li class="nav-item dropdown ">
              <a class="nav-link dropdown-toggle <%= (title == 'Home') ? 'active' : '' %> " href="#" id="navbarDropdown"
                role="button" data-bs-toggle="dropdown" aria-expanded="false">
                </i>Ackerman07 | Administrator
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="#"><i class="fa fa-user-circle me-2"></i>Profil</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="#"><i class="fa fa-sign-out me-2"></i>Logout</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav> -->
  <!-- <div class="container mt-5">
    <h3 class="my-4"> <i class="fa fa-angle-double-right me-2"></i> <i class="fa fa-map-location-dot me-2"></i>Jumlah
      Pengunjung Berdasarkan Daerah Asal</h3>
    <div class="p-3 mt-3 ms-5 card shadow rounded-4" style="margin-bottom: 5em;width: 70%;background:#f3e2cc">
      <canvas id="canvas" style="padding:0em"></canvas>
    </div> -->
  <!-- <h3 class="my-4"> <i class="fa fa-angle-double-right me-2"></i> <i
        class="fa fa-money-bill-trend-up me-2"></i>Penghasilan Perminggu</h3>
    <div class="p-3 mt-3 ms-5 card shadow rounded-4" style="margin-bottom: 5em;width: 70%;background:white">
      <canvas id="canvas1"></canvas>
    </div>

    <h3 class="my-4"> <i class="fa fa-angle-double-right me-2"></i> <i class="fa fa-ticket me-2"
        style="transform: rotate(-30deg)"></i>Jumlah Tiket Terjual Perminggu</h3>
    <div class="p-3 mt-3 ms-5 card shadow rounded-4"
      style="margin-bottom: 5em;width: 70%;background:rgba(171, 205, 239, 0)">
      <canvas id="canvas2"></canvas>
    </div>

    <h3 class="my-4"> <i class="fa fa-angle-double-right me-2"></i> <i class="fa fa-umbrella-beach me-2"></i>Tempat
      Terfavorit (Pengunjung Terbanyak)</h3>
    <div class="p-3 mt-3 ms-5 card shadow rounded-4"
      style="margin-bottom: 5em;width: 70%;background:rgba(171, 205, 239, 0)">
      <div id="chartHolder" style="width:100%; height:500px;"></div>
    </div> -->

  </div>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous">
  </script>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-geo@3.8.0/build/index.umd.min.js"></script>

  <script>
    const visitors = [{
        pos_kode_id: "63268",
        provinsi: "Nusa Tenggara Timur",
        pengunjung: "16"
      },
      {
        pos_kode_id: "06809",
        provinsi: "Bengkulu",
        pengunjung: "22"
      },
      {
        pos_kode_id: "25905",
        provinsi: "Maluku Utara",
        pengunjung: "18"
      },
      {
        pos_kode_id: "63330",
        provinsi: "Sulawesi Barat",
        pengunjung: "21"
      },
      {
        pos_kode_id: "65863",
        provinsi: "Sumatera Barat",
        pengunjung: "13"
      },
      {
        pos_kode_id: "35954",
        provinsi: "Banten",
        pengunjung: "21"
      },
      {
        pos_kode_id: "88992",
        provinsi: "Kepulauan Riau",
        pengunjung: "18"
      },
      {
        pos_kode_id: "19093",
        provinsi: "Nusa Tenggara Barat",
        pengunjung: "25"
      },
      {
        pos_kode_id: "44786",
        provinsi: "Sulawesi Utara",
        pengunjung: "27"
      },
      {
        pos_kode_id: "01028",
        provinsi: "Sulawesi Tengah",
        pengunjung: "24"
      },
      {
        pos_kode_id: "85337",
        provinsi: "Papua Barat",
        pengunjung: "20"
      },
      {
        pos_kode_id: "54462",
        provinsi: "Sulawesi Tenggara",
        pengunjung: "14"
      },
      {
        pos_kode_id: "36837",
        provinsi: "Kepulauan Riau",
        pengunjung: "18"
      },
      {
        pos_kode_id: "32869",
        provinsi: "Bangka Belitung",
        pengunjung: "24"
      },
      {
        pos_kode_id: "95993",
        provinsi: "Bali",
        pengunjung: "19"
      },
    ]

    var values = []

    values = visitors.map(e => [e.provinsi, parseInt(e.pengunjung)])
    console.log(values);
    const country = fetch(
      './js/asia.json'
    ).then((r) => r.json());
    const states = fetch(
      './js/indonesia.json'
    ).then((r) => r.json());


    Promise.all([states, country]).then((data) => {

      const regions = ChartGeo.topojson
        .feature(data[0], data[0].objects.layer).features
      const countries = ChartGeo.topojson.feature(data[1], data[1].objects.continent_Asia_subunits).features;
      const Indonesia = countries.find((d) => d.properties.geounit === 'Indonesia');

      let dataValues = regions.map((d, i) => {
        let data = {}
        for (let i = 0; i < regions.length; i++) {
          data.feature = d
          data.value = 0
          for (let j = 0; j < values.length; j++) {
            if (values[j][0] === d.properties.name) {
              data.feature = d
              data.value = values[j][1]
            }
          }
        }

        return data
      })

      const chart = new Chart(document.getElementById('canvas').getContext('2d'), {
        type: 'choropleth',
        data: {
          labels: regions.map(e => e.properties.name),
          datasets: [{
            label: 'Countries',
            outline: Indonesia,
            data: dataValues,
            borderColor: 'rgba(0,0,0, 0.5)',
          }, ],
        },
        options: {
          responsive: true,
          showOutline: false,
          showGraticule: false,
          scales: {
            x: {
              backgroundColors: '#00FF00',
              interpolate: 'warm',
              color: 'black',
            }
          },
          plugins: {
            legend: {
              display: false,
            },
          },
          scales: {
            xy: {
              projection: 'mercator',
            },
          },
        },
      });
    });
  </script>

  <!-- <script>
    const data = {
      labels: ['Week 17', 'Week 18', 'Week 19', 'Week 20', 'Week 21', 'Week 22', 'Week 23'],
      datasets: [{
        label: false,
        data: [
          1615591,
          29927228,
          22267812,
          25239187,
          21146199,
          25209947,
          14804405,
        ],
        borderColor: 'rgba(171, 205, 239, 0.662)',
        backgroundColor: '#068fff',
        pointStyle: 'circle',
        pointRadius: 10,
        pointHoverRadius: 15
      }]
    };
    const config = {
      type: 'line',
      data: data,
      options: {
        responsive: true,
        plugins: {
          legend: {
            display: false
          },
          title: {
            // display: true,
            // text: 'Penghasilan Perminggu',
            font: {
              size: 16,
              weight: 'bold'
            }
          },
        },
        scales: {
          x: {
            title: {
              display: true,
              text: 'Minggu',
              font: {
                size: 14,
                weight: 'bold'
              }
            },
            grid: {
              color: '#d8396e',
              borderColor: 'grey',
              tickColor: 'grey'
            }
          },
          y: {
            title: {
              display: true,
              text: 'Penghasilan (Rp)',
              font: {
                size: 14,
                weight: 'bold'
              }
            }
          }
        }
      }
    };

    const ctx = document.getElementById('canvas1').getContext('2d');
    const myChart = new Chart(ctx, config);






    const data2 = {
      labels: ['Week 17', 'Week 18', 'Week 19', 'Week 20', 'Week 21', 'Week 22', 'Week 23'],
      datasets: [{
          label: false,
          data: [
            49,
            645,
            801,
            535,
            432,
            580,
            310,
          ],
          label: 'Anak-anak',
          backgroundColor: 'rgba(224, 235, 9, 0.6)',
        },
        {
          label: false,
          data: [
            32,
            777,
            645,
            872,
            625,
            687,
            696,
          ],
          label: 'Dewasa',
          backgroundColor: 'rgba(6, 143, 255, 0.6)',
        },
        {
          label: false,
          data: [
            49,
            577,
            561,
            490,
            454,
            572,
            501,
          ],
          label: 'Eksklusif',
          backgroundColor: 'rgba(181, 11, 248, 0.6)',
        },
      ]
    };
    const config2 = {
      type: 'bar',
      data: data2,
      options: {
        responsive: true,
        plugins: {
          legend: {
            title: {
              display: true,
              text: 'Jenis Tiket',
              font: {
                size: 14,
                weight: 'bold'
              }
            }
          },
          title: {
            // display: true,
            // text: 'Penghasilan Perminggu',
            font: {
              size: 16,
              weight: 'bold'
            }
          },
        },
        scales: {
          x: {
            title: {
              display: true,
              text: 'Minggu',
              font: {
                size: 14,
                weight: 'bold'
              }
            },
            grid: {
              color: '#d8396e',
              borderColor: 'grey',
              tickColor: 'grey'
            }
          },
          y: {
            title: {
              display: true,
              text: 'Tiket Terjual (pcs)',
              font: {
                size: 14,
                weight: 'bold'
              }
            }
          }
        }
      }
    };

    const ctx2 = document.getElementById('canvas2').getContext('2d');
    const myChart2 = new Chart(ctx2, config2);
  </script> -->

  <!-- <script>
    var chartVars = "KoolOnLoadCallFunction=chartReadyHandler";

    KoolChart.create("chart1", "chartHolder", chartVars, "100%", "100%");

    function chartReadyHandler(id) {
      document.getElementById(id).setLayout(layoutStr);
      document.getElementById(id).setData(finalData);
    }

    var layoutStr =
      `<KoolChart backgroundColor="#FFFFFF"  borderThickness="1" borderStyle="none">
		<Options>
			<Legend />
		</Options>
		<NumberFormatter id="numFmt" precision="0"/>
		<Bump2DChart showDataTips="true" dataTipDisplayMode="axis" endPointDisplayName="true" startPointDisplayName="true">
			<horizontalAxis>
				<CategoryAxis categoryField="Week"/>
			</horizontalAxis>
			<verticalAxis>
				<LinearAxis/>
			</verticalAxis>
			<series>
				<Bump2DSeries id="bump1" yField="mesjid al-ahzar" displayName="mesjid al-ahzar" itemRenderer="CircleItemRenderer" labelPosition="inside" form="curve">
					<showDataEffect>
						
            <SeriesClip duration="1000"/>
					</showDataEffect>
				</Bump2DSeries>
				<Bump2DSeries id="bump2" yField="kantin bagendit" displayName="kantin bagendit" itemRenderer="CircleItemRenderer" labelPosition="inside" form="curve">
					<showDataEffect>
						
            <SeriesClip duration="1000"/>
					</showDataEffect>
				</Bump2DSeries>
				<Bump2DSeries id="bump3" yField="bagendit store" displayName="bagendit store" itemRenderer="CircleItemRenderer" labelPosition="inside" form="curve">
					<showDataEffect>
						
            <SeriesClip duration="1000"/>
					</showDataEffect>
				</Bump2DSeries>
				<Bump2DSeries id="bump1" yField="taman main anak" displayName="taman main anak" itemRenderer="CircleItemRenderer" labelPosition="inside" form="curve">
					<showDataEffect>
						
            <SeriesClip duration="1000"/>
					</showDataEffect>
				</Bump2DSeries>
				<Bump2DSeries id="bump2" yField="photo spots" displayName="photo spots" itemRenderer="CircleItemRenderer" labelPosition="inside" form="curve">
					<showDataEffect>
						
            <SeriesClip duration="1000"/>
					</showDataEffect>
				</Bump2DSeries>
				<Bump2DSeries id="bump3" yField="taman anggrek" displayName="taman anggrek" itemRenderer="CircleItemRenderer" labelPosition="inside" form="curve">
					<showDataEffect>
						
            <SeriesClip duration="1000"/>
					</showDataEffect>
				</Bump2DSeries>
				<Bump2DSeries id="bump1" yField="sport area" displayName="sport area" itemRenderer="CircleItemRenderer" labelPosition="inside" form="curve">
					<showDataEffect>
						
            <SeriesClip duration="1000"/>
					</showDataEffect>
				</Bump2DSeries>
				<Bump2DSeries id="bump2" yField="danau eceng" displayName="danau eceng" itemRenderer="CircleItemRenderer" labelPosition="inside" form="curve">
					<showDataEffect>
						
            <SeriesClip duration="1000"/>
					</showDataEffect>
				</Bump2DSeries>
				<Bump2DSeries id="bump3" yField="jelajah danau" displayName="jelajah danau" itemRenderer="CircleItemRenderer" labelPosition="inside" form="curve">
					<showDataEffect>
						
            <SeriesClip duration="1000"/>
					</showDataEffect>
				</Bump2DSeries>
				<Bump2DSeries id="bump3" yField="wisata alam bagendit" displayName="wisata alam bagendit" itemRenderer="CircleItemRenderer" labelPosition="inside" form="curve">
					<showDataEffect>
						
            <SeriesClip duration="1000"/>
					</showDataEffect>
				</Bump2DSeries>
			</series>
			<annotationElements>
				<CrossRangeZoomer enableZooming="false" horizontalLabelFormatter="{numFmt}" horizontalStrokeEnable="false"/>
			</annotationElements>
		</Bump2DChart>
	</KoolChart>`

    const favoritePlace = [{
        "objek_wisata_id": 1,
        "nama": "mesjid al-ahzar",
        "week": 17,
        "sum": "173"
      },
      {
        "objek_wisata_id": 1,
        "nama": "mesjid al-ahzar",
        "week": 18,
        "sum": "2022"
      },
      {
        "objek_wisata_id": 1,
        "nama": "mesjid al-ahzar",
        "week": 19,
        "sum": "2060"
      },
      {
        "objek_wisata_id": 1,
        "nama": "mesjid al-ahzar",
        "week": 20,
        "sum": "1837"
      },
      {
        "objek_wisata_id": 1,
        "nama": "mesjid al-ahzar",
        "week": 21,
        "sum": "1579"
      },
      {
        "objek_wisata_id": 1,
        "nama": "mesjid al-ahzar",
        "week": 22,
        "sum": "1779"
      },
      {
        "objek_wisata_id": 1,
        "nama": "mesjid al-ahzar",
        "week": 23,
        "sum": "1440"
      },
      {
        "objek_wisata_id": 2,
        "nama": "kantin bagendit",
        "week": 17,
        "sum": "173"
      },
      {
        "objek_wisata_id": 2,
        "nama": "kantin bagendit",
        "week": 18,
        "sum": "2022"
      },
      {
        "objek_wisata_id": 2,
        "nama": "kantin bagendit",
        "week": 19,
        "sum": "2060"
      },
      {
        "objek_wisata_id": 2,
        "nama": "kantin bagendit",
        "week": 20,
        "sum": "1837"
      },
      {
        "objek_wisata_id": 2,
        "nama": "kantin bagendit",
        "week": 21,
        "sum": "1579"
      },
      {
        "objek_wisata_id": 2,
        "nama": "kantin bagendit",
        "week": 22,
        "sum": "1779"
      },
      {
        "objek_wisata_id": 2,
        "nama": "kantin bagendit",
        "week": 23,
        "sum": "1440"
      },
      {
        "objek_wisata_id": 3,
        "nama": "bagendit store",
        "week": 17,
        "sum": "173"
      },
      {
        "objek_wisata_id": 3,
        "nama": "bagendit store",
        "week": 18,
        "sum": "2022"
      },
      {
        "objek_wisata_id": 3,
        "nama": "bagendit store",
        "week": 19,
        "sum": "2060"
      },
      {
        "objek_wisata_id": 3,
        "nama": "bagendit store",
        "week": 20,
        "sum": "1837"
      },
      {
        "objek_wisata_id": 3,
        "nama": "bagendit store",
        "week": 21,
        "sum": "1579"
      },
      {
        "objek_wisata_id": 3,
        "nama": "bagendit store",
        "week": 22,
        "sum": "1779"
      },
      {
        "objek_wisata_id": 3,
        "nama": "bagendit store",
        "week": 23,
        "sum": "1440"
      },
      {
        "objek_wisata_id": 4,
        "nama": "taman main anak",
        "week": 17,
        "sum": "173"
      },
      {
        "objek_wisata_id": 4,
        "nama": "taman main anak",
        "week": 18,
        "sum": "2022"
      },
      {
        "objek_wisata_id": 4,
        "nama": "taman main anak",
        "week": 19,
        "sum": "2060"
      },
      {
        "objek_wisata_id": 4,
        "nama": "taman main anak",
        "week": 20,
        "sum": "1837"
      },
      {
        "objek_wisata_id": 4,
        "nama": "taman main anak",
        "week": 21,
        "sum": "1579"
      },
      {
        "objek_wisata_id": 4,
        "nama": "taman main anak",
        "week": 22,
        "sum": "1779"
      },
      {
        "objek_wisata_id": 4,
        "nama": "taman main anak",
        "week": 23,
        "sum": "1440"
      },
      {
        "objek_wisata_id": 5,
        "nama": "photo spots",
        "week": 17,
        "sum": "124"
      },
      {
        "objek_wisata_id": 5,
        "nama": "photo spots",
        "week": 18,
        "sum": "1359"
      },
      {
        "objek_wisata_id": 5,
        "nama": "photo spots",
        "week": 19,
        "sum": "1212"
      },
      {
        "objek_wisata_id": 5,
        "nama": "photo spots",
        "week": 20,
        "sum": "1338"
      },
      {
        "objek_wisata_id": 5,
        "nama": "photo spots",
        "week": 21,
        "sum": "1132"
      },
      {
        "objek_wisata_id": 5,
        "nama": "photo spots",
        "week": 22,
        "sum": "1215"
      },
      {
        "objek_wisata_id": 5,
        "nama": "photo spots",
        "week": 23,
        "sum": "1158"
      },
      {
        "objek_wisata_id": 6,
        "nama": "taman anggrek",
        "week": 17,
        "sum": "124"
      },
      {
        "objek_wisata_id": 6,
        "nama": "taman anggrek",
        "week": 18,
        "sum": "1359"
      },
      {
        "objek_wisata_id": 6,
        "nama": "taman anggrek",
        "week": 19,
        "sum": "1212"
      },
      {
        "objek_wisata_id": 6,
        "nama": "taman anggrek",
        "week": 20,
        "sum": "1338"
      },
      {
        "objek_wisata_id": 6,
        "nama": "taman anggrek",
        "week": 21,
        "sum": "1132"
      },
      {
        "objek_wisata_id": 6,
        "nama": "taman anggrek",
        "week": 22,
        "sum": "1215"
      },
      {
        "objek_wisata_id": 6,
        "nama": "taman anggrek",
        "week": 23,
        "sum": "1158"
      },
      {
        "objek_wisata_id": 7,
        "nama": "sport area",
        "week": 17,
        "sum": "124"
      },
      {
        "objek_wisata_id": 7,
        "nama": "sport area",
        "week": 18,
        "sum": "1359"
      },
      {
        "objek_wisata_id": 7,
        "nama": "sport area",
        "week": 19,
        "sum": "1212"
      },
      {
        "objek_wisata_id": 7,
        "nama": "sport area",
        "week": 20,
        "sum": "1338"
      },
      {
        "objek_wisata_id": 7,
        "nama": "sport area",
        "week": 21,
        "sum": "1132"
      },
      {
        "objek_wisata_id": 7,
        "nama": "sport area",
        "week": 22,
        "sum": "1215"
      },
      {
        "objek_wisata_id": 7,
        "nama": "sport area",
        "week": 23,
        "sum": "1158"
      },
      {
        "objek_wisata_id": 8,
        "nama": "danau eceng",
        "week": 17,
        "sum": "55"
      },
      {
        "objek_wisata_id": 8,
        "nama": "danau eceng",
        "week": 18,
        "sum": "595"
      },
      {
        "objek_wisata_id": 8,
        "nama": "danau eceng",
        "week": 19,
        "sum": "570"
      },
      {
        "objek_wisata_id": 8,
        "nama": "danau eceng",
        "week": 20,
        "sum": "457"
      },
      {
        "objek_wisata_id": 8,
        "nama": "danau eceng",
        "week": 21,
        "sum": "496"
      },
      {
        "objek_wisata_id": 8,
        "nama": "danau eceng",
        "week": 22,
        "sum": "554"
      },
      {
        "objek_wisata_id": 8,
        "nama": "danau eceng",
        "week": 23,
        "sum": "477"
      },
      {
        "objek_wisata_id": 9,
        "nama": "jelajah danau",
        "week": 17,
        "sum": "55"
      },
      {
        "objek_wisata_id": 9,
        "nama": "jelajah danau",
        "week": 18,
        "sum": "595"
      },
      {
        "objek_wisata_id": 9,
        "nama": "jelajah danau",
        "week": 19,
        "sum": "570"
      },
      {
        "objek_wisata_id": 9,
        "nama": "jelajah danau",
        "week": 20,
        "sum": "457"
      },
      {
        "objek_wisata_id": 9,
        "nama": "jelajah danau",
        "week": 21,
        "sum": "496"
      },
      {
        "objek_wisata_id": 9,
        "nama": "jelajah danau",
        "week": 22,
        "sum": "554"
      },
      {
        "objek_wisata_id": 9,
        "nama": "jelajah danau",
        "week": 23,
        "sum": "477"
      },
      {
        "objek_wisata_id": 10,
        "nama": "wisata alam bagendit",
        "week": 17,
        "sum": "55"
      },
      {
        "objek_wisata_id": 10,
        "nama": "wisata alam bagendit",
        "week": 18,
        "sum": "595"
      },
      {
        "objek_wisata_id": 10,
        "nama": "wisata alam bagendit",
        "week": 19,
        "sum": "570"
      },
      {
        "objek_wisata_id": 10,
        "nama": "wisata alam bagendit",
        "week": 20,
        "sum": "457"
      },
      {
        "objek_wisata_id": 10,
        "nama": "wisata alam bagendit",
        "week": 21,
        "sum": "496"
      },
      {
        "objek_wisata_id": 10,
        "nama": "wisata alam bagendit",
        "week": 22,
        "sum": "554"
      },
      {
        "objek_wisata_id": 10,
        "nama": "wisata alam bagendit",
        "week": 23,
        "sum": "477"
      }
    ]


    var chartData = []
    let weekData = {}
    let finalData = []


    const weeks = [...new Set(favoritePlace.map(e => e.week))]
    const chartDataGroup = weeks.map(e => ({
      // 'Week': 'Week ' + e,
      'data': []
    }))

    weeks.map((e, n) => {
      for (let i = 0; i < favoritePlace.length; i++) {
        if (e === favoritePlace[i].week) {
          weekData.Week = e
          weekData[favoritePlace[i].nama] = parseInt(favoritePlace[i].sum)
          chartData.push(weekData)
        } else {
          weekData = {}
        }
      }

      for (let i = 0; i < chartData.length; i++) {
        if (e == chartData[i].Week) {
          chartDataGroup[n].data.push(chartData[i])
        }
      }
      let spreadData = [
        ...chartDataGroup[n].data
      ].reduce((prev, cur) => {
        cur.Week = "Week " + cur.Week
        return ({
          ...prev,
          ...cur
        })
      })
      finalData.push(spreadData)
    })

  </script> -->
</body>

</html>